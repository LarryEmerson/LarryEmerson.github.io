{"version":3,"sources":["LEFrameWorks/LEUtils.js","global.less","App/GiteeManager.js","App/MovieFetcherTemplate.js","App/StoreProvider.js","App/MoviePageTemplate.js","App.js","serviceWorker.js","index.js","LEFrameWorks/LEJSParser.js","LEFrameWorks/LERequest.js"],"names":["__webpack_exports__","saveToLocal","key","value","localStorage","setItem","getFromLocal","getItem","ConsoleON","request","host","headers","apiAddress","type","LERequest","api","empty","o","undefined","urlParam","params","Object","keys","map","_this","encodeURIComponent","JSON","stringify","join","uuid","len","radix","i","r","chars","split","length","Math","random","assign","p","c","Array","isArray","indexOf","this","compare","a","b","module","exports","__webpack_require__","Buffer","require","GiteeColor","GiteeConfig","GiteeHelperStyle","T","color","fontSize","fontWeight","marginBottom","width","textAlign","title","marginTop","code","subtitle","GiteeHelper","content","GiteeResponseType","GiteedivStatus","Idle","Auth","ListUser","Repos","Files","GiteeManager","classCallCheck","storage","createClass","instance","getStorage","callback","console","log","LEUtils","reauthorize","arguments","result","concat","ctx","config","_ref","url","grant_type","client_id","redirect_uri","client_secret","getAccessToken","success","status","response","json","then","_ref3","access_token","getUser","user","name","getInstance","save","values","error","get","post","access","old","now","Date","getTime","parseFloat","created_at","expires_in","_ref2","refresh_token","refreshAccessToken","notification","message","checkAccessExpired","_ref4","getRepos","repos","repo","_ref5","owner","login","default_branch","getBranch","branch","_ref6","commit","sha","getTree","tree","_ref8","_ref7","repoOwner","repoName","fileSha","getFile","file","text","encoding","toString","configJson","parse","e","path","GiteeManagerView","possibleConstructorReturn","getPrototypeOf","call","state","giteeUrl","userList","viewStatus","files","currentAccess","currentRepo","isConfig","getAuthorization","setState","window","location","startsWith","_","substr","dic","forEach","s","list","props","invisible","error_description","decodeURIComponent","getConfigFile","wrapper","children","react_default","createElement","style","borderRadius","height","backgroundColor","flexDirection","borderBottomWidth","borderBottomColor","alignItems","justifyContent","paddingHorizontal","position","top","bottom","left","onClick","icon_default","size","right","flex","overflow","visible","borderWidth","borderColor","source","uri","onError","nativeEvent","onLoadEnd","onShouldStartLoadWithRequest","req","index","marginLeft","Source","fileDic","f","pop","Component","GiteeManagerHelper","_Component2","apply","inherits","paddingVertical","_ref9","MovieFetcherTemplate","requestConfig","configUrl","currentPage","recordsList","pendingFetchList","pageNo","pageSize","responseText","$","Cheerio","load","link","data","texts","hrefs","images","find","each","x","y","push","attr","href","ctxs","spans","v","isNaN","parseInt","trim","tmp","records","timestamp","toLocaleDateString","record","id","context","fetcherTimer","setInterval","shift","evalTemplate","configs","ScriptDetailsURL","Site","RequestType","ScriptDetailsResponse","getCombinedImages","_callbackWithData","isFetching","Decode","stopFetcher","co_area2","next","clearInterval","runFetcher","_getDetails","folder","_fetchDetails","_fetchDataList","ScriptListURL","ScriptListResponse","waterfall","initialStore","savedLinks","historyList","showWKY","showImage","downloadsStorage","Store","createContext","StoreProvider","_PureComponent","_getPrototypeOf2","_len","args","_key","objectSpread","toggleWKY","flag","assertThisInitialized","toggleImage","addDownload","download","findIndex","d","splice","array","toConsumableArray","removeDownloads","downloads","_downloadsStorage","filter","ds","refreshDownloads","addHistory","item","el","removeHistory","idList","_historyList","findHistory","saveLink","links","getLink","some","_componentDidMount","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","saveLinks","stop","prevProps","prevState","_this$state","Provider","PureComponent","ButtonConfigs","image","isContext","iconH","iconN","icon","Icon","scroll","server","history","helper","ContentType","MoviePageTemplate","viewabilityConfig","minimumViewTime","waitForInteraction","itemVisiblePercentThreshold","dataSourceRendered","isRefreshing","autoScrollPixels","autoScrollEnabled","pastesArray","togglePaste","currentPages","selectedPage","contentOffset","inputServer","inputServer_","previewImages","previewImageIndex","screenWidth","screenHeight","togglePageSelection","loadingFailed","fetchers","giteeConfigs","getGitee","pending","onChangePageIndex","loadNews","loadMore","getFolder","historyFetch","getDetails","reduce","listView","flashScrollIndicators","addTime","copyTime","deleteTime","checked","coppied","deleted","replace","lastIndexOf","line","_context$context","currentOrientation","renderBtn","button_default","className","renderStepper","step","max","itemIndex","idx","handleDownload","renderItem","badge_default","count","showZero","shape","absolute","marginHorizontal","startAutoScroll","stopAutoScroll","GiteeManager_GiteeManagerView","ref","gitee","GiteeManager_GiteeManagerHelper","valid","paddingLeft","display","marginRight","onButton","back_top_default","kv","kv2","autoScrollTimer","autoScroll","contextType","App","innerWidth","innerHeight","screenBackgroundColor","testStr","addEventListener","resize","bind","removeEventListener","StoreProvider_StoreProvider","MoviePageTemplate_MoviePageTemplate","Boolean","hostname","match","ReactDOM","render","App_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","moment__WEBPACK_IMPORTED_MODULE_0__","moment__WEBPACK_IMPORTED_MODULE_0___default","n","cheerio__WEBPACK_IMPORTED_MODULE_1__","cheerio__WEBPACK_IMPORTED_MODULE_1___default","_LERequest__WEBPACK_IMPORTED_MODULE_2__","ConsoleSwitch","template","execution","bindContext","eval","moment","convertResponse","appRequest","ex","requestType","requestData","dataType","timeout","run","explainValueTemplate","matches","raw","valueId","replaceWithExplainedValue","explainedValue","blob","format","val","getStringLen","str","LEResponseStatus","Timeout","Success","Failure","apiHost","defaultHeaders","_Volumes_MacHD_2018_persona_browser_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","Utils","onSuccess","method","endPoint","enableToast","methodMap","0","1","2","3","4","5","responseStatus","toast","func","exec","dataTypeMap","urlForm","head","delete","put","patch","requestPromise","abort","fetch_promise","timeout_fn","timeout_promise","Promise","resolve","reject","timeOutError","statusCode","msg","abort_promise","Abort","abortable_promise","race","setTimeout","Headers","append","warp_fetch","fetch","catch","errormsg","execFetch","multipartForm"],"mappings":"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","file":"static/js/main.eb8c1e0b.chunk.js","sourcesContent":["/**\n * Created by LarryEmerson\n * User: larryemerson@163.com\n * Date: 2019/3/12\n * Time: 5:03 PM\n */\nimport LERequest from './LERequest'\n\nexport default {\n    saveToLocal(key, value) {\n        localStorage.setItem(key, value)\n    },\n    getFromLocal(key) {\n        return localStorage.getItem(key)\n    },\n    ConsoleON: true,\n    request: (host, headers, apiAddress, type) => {\n        return new LERequest(host, headers, type).api(apiAddress)\n    },\n    empty: (o) => {\n        if (o === undefined || o === \"\" || o === null)\n            return true;\n        return false;\n    },\n    urlParam: (params) => {\n        return Object.keys(params).map((key) => {\n            if (this.empty(params[key]))\n                return encodeURIComponent(key) + '=';\n            if (typeof params[key] === 'object')\n                return encodeURIComponent(key) + '=' + encodeURIComponent(JSON.stringify(params[key]));\n            return encodeURIComponent(key) + '=' + encodeURIComponent(params[key]);\n        }).join('&')\n    },\n    uuid: (len, radix) => {\n        let chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\n        let uuid = [], i;\n        radix = radix || chars.length;\n        if (len) {\n            // Compact form\n            for (i = 0; i < len; i++) uuid[i] = chars[0 | Math.random() * radix];\n        } else {\n            // rfc4122, version 4 form\n            let r;\n\n            // rfc4122 requires these characters\n            uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';\n            uuid[14] = '4';\n\n            // Fill in random data.  At i==19 set the high bits of clock sequence as\n            // per rfc4122, sec. 4.1.5\n            for (i = 0; i < 36; i++) {\n                if (!uuid[i]) {\n                    r = 0 | Math.random() * 16;\n                    uuid[i] = chars[(i === 19) ? (r & 0x3) | 0x8 : r];\n                }\n            }\n        }\n        return uuid.join('');\n    },\n    assign(p) {\n        let c;\n        if ((typeof p === 'object' && p !== null)) {\n            if ((Array.isArray(p)))\n                c = [];\n            else\n                c = {};\n            for (var i in p) {\n                if (typeof p[i] === 'object' && !i.indexOf(\"_\") !== 0) {\n                    c[i] = this.assign(p[i]);\n                } else {\n                    c[i] = p[i];\n                }\n            }\n        } else {\n            c = p;\n        }\n        return c;\n    },\n    compare(a, b) {\n        let context = this;\n        if (a === b)\n            return true;\n        if (!(a instanceof Object && b instanceof Object))\n            return false;\n        if (Object.keys(a).length !== Object.keys(b).length)\n            return false;\n        let keys = Object.keys(a);\n        for (let i = 0; a !== undefined && i < keys.length; i++) {\n            if (a[keys[i]] !== b[keys[i]]) {\n                if (a[keys[i]] instanceof Object && b[keys[i]] instanceof Object) {\n                    if (!context.compare(a[keys[i]], b[keys[i]]))\n                        return false;\n                } else {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n}","module.exports = __webpack_public_path__ + \"static/media/global.293907fa.less\";","/**\n * Created by LarryEmerson\n * User: larryemerson@163.com\n * Date: 2019/11/11\n * Time: 7:25 PM\n */\nimport React, {Component} from \"react\";\nimport Icon from 'antd/lib/icon';\nimport notification from 'antd/lib/notification'\nimport LEUtils from '../LEFrameWorks/LEUtils'\n\nvar Buffer = require('buffer/').Buffer\n\nconst GiteeColor = {\n    BG: 'transparent',\n    span: '#ddd',\n    spanShadow: '#999',\n    Button: '#2479ee',\n    SplitLineH: '#aaa',\n    SplitLineN: '#888',\n    Alert: '#ff122d',\n    Title: '#ff6515',\n}\nconst GiteeConfig = {\n    AuthHost: 'https://gitee.com/oauth/token/',\n    ApiHost: 'https://gitee.com/api/',\n    client_id: '5c6c317bb54d93cdc607baddd7afd982444d213532857e01d342df80735879d2',\n    client_secret: '9718af6f899cc733c61c6ffa0963fddc3ce3c8114500574197040525a13a538d',\n    redirect_uri: 'https://pmredirect',\n    StorageKey: 'GiteeStorage',\n}\nconst GiteeHelperStyle = {\n    T: {\n        color: '#ff4c1e',\n        fontSize: 20,\n        fontWeight: 'bold',\n        marginBottom: 20,\n        width: '100%',\n        textAlign: 'center',\n    },\n    title: {\n        color: '#ff4c1e',\n        fontSize: 18,\n        fontWeight: 'bold',\n        marginBottom: 8,\n        marginTop: 8,\n    },\n    code: {\n        color: '#ffa334',\n        fontSize: 12,\n    },\n    subtitle: {\n        color: '#ff4c1e',\n        fontSize: 15,\n        marginBottom: 10,\n    },\n}\nconst GiteeHelper = [\n    {\n        type: 'T',\n        content: 'JS 脚本配置',\n    },\n    {\n        type: 'title',\n        content: '1-https://gitee.com',\n    },\n    {\n        type: 'subtitle',\n        content: '脚本使用gitee进行管理，可以建立私有仓库。应用支持登录授权，自主选择配置文件。',\n    },\n    {\n        type: 'title',\n        content: '2-菜单数据源：PMConfigs.json',\n    },\n    {\n        type: 'code',\n        content: '{\\n' +\n        '  \"Source\": [ \\n' +\n        '    {\\n' +\n        '      \"title\": \"高清啦-原盘\",\\n' +\n        '      \"config\": \"https://gitee.com/larryemerson/PersonalConfigs/raw/master/gaoqing_la.json\",\\n' +\n        '      \"valid\": 1\\n' +\n        '    },\\n' +\n        '...\\n' +\n        '  ]\\n' +\n        '}',\n    },\n    {\n        type: 'subtitle',\n        content: 'Source数组：左侧菜单栏数据源\\n' +\n        'title：菜单名称\\n' +\n        'config：对应的json文件地址\\n' +\n        'valid：是否默认需要隐藏(菜单下方眼睛图标用于开启或隐藏)',\n    },\n    {\n        type: 'title',\n        content: '3-菜单对应的config文件：gaoqing_la.json',\n    },\n    {\n        type: 'code',\n        content: '{\\n' +\n        '    \"Site\": \"http://gaoqing.la/bluray/\",\\n' +\n        '    \"Decode\": \"utf8\",\\n' +\n        '    \"RequestType\": \"rnfb\",\\n' +\n        '    \"ScriptListURL\": \"(site,currentPage)=>`${site}page/${currentPage}`\",\\n' +\n        '    \"ScriptListResponse\": \"(responsespan)=>{var $ = this.Cheerio.load(responsespan);var post_hover = $(\\'.post_hover\\');var records = [];post_hover.each(function (i, v) {v = post_hover[i];var thumbnail = $(v).find(\\'.thumbnail\\');var article = $(v).find(\\'.article\\');var img = $(thumbnail).find(\\'img\\');var a = $(article).find(\\'a\\');var timestamp = new Date().toLocaleDateString();var href = $(a).attr(\\'href\\');var title = $(a).attr(\\'title\\');var imgs=$(img).attr(\\'src\\');imgs=Array.isArray(imgs)?imgs:[imgs]; imgs=imgs.map(function(image){if(image.indexOf(\\'http\\')<0){return \\'http://gaoqing.la\\'+image;}return image;}); var record = {id: href,timestamp: timestamp,href: href,title: title,images: imgs}; records.push(record);});return records;}\",\\n' +\n        '    \"ScriptDetailsURL\": \"(site,url)=>`${url}`\",\\n' +\n        '    \"ScriptDetailsResponse\": \"(responsespan)=>{var $ = this.Cheerio.load(responsespan);let ctxs = $(\\'.context\\').find(\\'#post_content\\');let spans = $(ctxs).find(\\'span\\');let hrefs = $(ctxs).find(\\'a\\');let data = {texts: [], hrefs: []};let spanKeys = Object.keys(spans);spanKeys.map(function (i, v) {if (!isNaN(parseInt(i))) {v = spans[i];data.texts.push($(v).text().trim());}});let hrefKeys = Object.keys(hrefs);hrefKeys.map(function (i, v) {if (!isNaN(parseInt(i))) {v = hrefs[i];let tmp = {title: $(v).text(),href: $(v).attr(\\'href\\').trim()}data.hrefs.push(tmp);}});return data;}\"\\n' +\n        '}',\n    },\n    {\n        type: 'subtitle',\n        content: 'Site：爬虫地址\\n' +\n        'Decode：解码格式（空、utf8、gb2312）\\n' +\n        'RequestType：默认为\"rnfb\"。\\n' +\n        'ScriptListURL：论坛各分类地址比较固定，currentPage会在成功请求后递增。通过site及currentPage两个参数拼接地址。\\n' +\n        'ScriptListResponse：解析上述地址返回的内容。\\n' +\n        '通过var $ = this.Cheerio.load(responsespan)来解析。\\n' +\n        '返回数据格式为var records = [{id: href,timestamp: timestamp,href: href,title: title,images: imgs};]。\\n' +\n        '其中为id用于标识唯一性，timestamp用于表示生成时间，href为子详情跳转地址。title是标题。images是相关图片。\\n' +\n        'ScriptDetailsURL：通过site及url(上述的href)来拼接详情请求地址。\\n' +\n        'ScriptDetailsResponse：通过this.Cheerio来解析返回内容。\\n' +\n        '返回数据格式为:[{texts: [], images: [], hrefs: [{title: title, href: href}]}]。\\n' +\n        '其中hrefs为下载地址数组，title为下载内容的显示名称（需要同时插入到texts中），href为真实下载地址。\\n' +\n        'texts为需要显示的文本内容，images为需要显示的图片(如果不存在则寻找ScriptListResponse中的images)。默认图片在文字上方。',\n    },\n]\nconst getCode = () => {\n    return `https://gitee.com/oauth/authorize?client_id=${GiteeConfig.client_id}&redirect_uri=${GiteeConfig.redirect_uri}&response_type=code`\n}\nconst getAccessToken = ({code}) => {\n    return {\n        url: GiteeConfig.AuthHost,\n        params: {\n            grant_type: 'authorization_code',\n            code: code,\n            client_id: GiteeConfig.client_id,\n            redirect_uri: GiteeConfig.redirect_uri,\n            client_secret: GiteeConfig.client_secret\n            // code: encodeURIComponent(code),\n            // client_id: encodeURIComponent(GiteeConfig.client_id),\n            // redirect_uri: encodeURIComponent(GiteeConfig.redirect_uri),\n            // client_secret: encodeURIComponent(GiteeConfig.client_secret)\n        }\n    }\n}\nconst refreshAccessToken = ({refresh_token}) => {\n    return {\n        url: GiteeConfig.AuthHost,\n        params: {\n            grant_type: 'refresh_token',\n            refresh_token: refresh_token,\n        }\n    }\n}\nconst getUser = ({access_token}) => {\n    return {\n        url: GiteeConfig.ApiHost + 'v5/user?access_token=' + access_token,\n        params: undefined\n    }\n}\nconst getRepos = ({access_token}) => {\n    return {\n        url: GiteeConfig.ApiHost + 'v5/user/repos?access_token=' + access_token,\n        params: undefined\n    }\n}\nconst getBranch = ({access_token, repo}) => {\n    return {\n        url: GiteeConfig.ApiHost + `v5/repos/${repo.owner.login}/${repo.name}/branches/${repo.default_branch}?access_token=` + access_token,\n        params: undefined,\n    }\n}\nconst getTree = ({access_token, repo, branch}) => {\n    return {\n        url: GiteeConfig.ApiHost + `v5/repos/${repo.owner.login}/${repo.name}/git/trees/${branch.commit.sha}?access_token=` + access_token,\n        params: undefined\n    }\n}\nconst getFile = ({access_token, repoOwner, repoName, fileSha}) => {\n    return {\n        url: GiteeConfig.ApiHost + `v5/repos/${repoOwner}/${repoName}/git/blobs/${fileSha}?access_token=` + access_token,\n        params: undefined\n    }\n}\nconst GiteeResponseType = {\n    URL: 'url',\n    List: 'list',\n}\nconst GiteedivStatus = {\n    Idle: 0,\n    Auth: 1,\n    ListUser: 2,\n    Repos: 3,\n    Files: 4,\n}\n\nexport class GiteeManager {\n    static instance = null\n\n    static getInstance() {\n        if (!GiteeManager.instance) {\n            GiteeManager.instance = new GiteeManager()\n        }\n        GiteeManager.instance.getStorage()\n        return GiteeManager.instance\n    }\n\n    constructor() {\n        this.storage = undefined\n    }\n\n    getStorage(callback) {\n        let ctx = this\n        console.log('getStorage', ctx.storage)\n        if (ctx.storage) {\n            callback && callback(ctx.storage)\n        } else {\n            ctx.storage = LEUtils.getFromLocal(GiteeConfig.StorageKey) || {}\n            callback && callback(ctx.storage)\n        }\n    }\n\n    save() {\n        let ctx = this\n        LEUtils.saveToLocal(GiteeConfig.StorageKey, ctx.storage)\n    }\n\n    getAuthorization(callback, reauthorize = false) {\n        let ctx = this\n        let result = {\n            type: GiteeResponseType.URL,\n            result: getCode(),\n        }\n        if (reauthorize) {\n            callback && callback(result)\n        } else {\n            ctx.getStorage((storage) => {\n                if (Object.keys(storage || {}).length > 0) {\n                    result.type = GiteeResponseType.List\n                    result.result = storage\n                }\n                callback && callback(result)\n            })\n        }\n    }\n\n    getUser(code, callback) {\n        let ctx = this\n        let config = getAccessToken({code})\n        LEUtils.request('', undefined, config.url).success(function (status, response) {\n            response.json().then(function (json) {\n                // console.log(config.url, status, json)\n                config = getUser(json)\n                LEUtils.request('', undefined, config.url).success(function (status, response) {\n                    response.json().then(function (user) {\n                        // console.log(config.url, status, user, json)\n                        json.user = user\n                        let result = Object.assign({}, json)\n                        result.user = user\n                        ctx.storage[user.name] = result\n                        GiteeManager.getInstance().save()\n                        callback && callback(Object.values(ctx.storage))\n                    })\n                }).error(function (error) {\n                    console.log(config.url, error)\n                }).get()\n            })\n        }).error(function (error) {\n            console.log(config.url, error)\n        }).post(config.params)\n    }\n\n    checkAccessExpired(access, callback) {\n        let ctx = this\n        let old = ctx.storage[access.user.name]\n        let now = new Date().getTime()\n        now = now / 1000\n        // console.log({now}, parseFloat(old.created_at), parseFloat(old.expires_in), parseFloat(now) - parseFloat(old.created_at) - parseFloat(old.expires_in))\n        if (parseFloat(now) - parseFloat(old.created_at) - parseFloat(old.expires_in) > 0) {\n            let config = refreshAccessToken({refresh_token: old.refresh_token})\n            // console.log({config})\n            LEUtils.request('', undefined, config.url).success(function (status, response) {\n                response.json().then(function (json) {\n                    ctx.storage[access.user.name] = Object.assign(old, json)\n                    // console.log(config.url, status, json, old, ctx.storage[access.user.name])\n                    GiteeManager.getInstance().save()\n                    callback && callback(ctx.storage[access.user.name])\n                })\n            }).error(function (error) {\n                notification.error({\n                    message: '授权过期，请重新授权！'\n                })\n            }).post(config.params)\n        } else {\n            callback && callback(access)\n        }\n    }\n\n    getRepos(access, callback) {\n        let ctx = this\n        ctx.checkAccessExpired(access, (access) => {\n            let config = getRepos(access)\n            LEUtils.request('', undefined, config.url).success(function (status, response) {\n                response.json().then(function (repos) {\n                    // console.log(config.url, status, repos)\n                    ctx.storage[access.user.name].repos = repos\n                    GiteeManager.getInstance().save()\n                    callback && callback(repos)\n                })\n            }).error(function (error) {\n                notification.error({\n                    message: '请求失败，请尝试重新授权'\n                })\n                console.log(config.url, error)\n            }).get()\n\n        })\n    }\n\n    getBranch(access, repo, callback) {\n        let ctx = this\n        ctx.checkAccessExpired(access, (access) => {\n            let config = getBranch({access_token: access.access_token, repo})\n            LEUtils.request('', undefined, config.url).success(function (status, response) {\n                response.json().then(function (branch) {\n                    // console.log(config.url, {branch})\n                    repo.branch = branch\n                    GiteeManager.getInstance().save()\n                    config = getTree({access_token: access.access_token, repo, branch})\n                    LEUtils.request('', undefined, config.url).success(function (status, response) {\n                        response.json().then(function (tree) {\n                            // console.log(config.url, {tree})\n                            repo.tree = tree\n                            GiteeManager.getInstance().save()\n                            callback && callback(access, repo, branch, tree)\n                        })\n                    }).error(function (error) {\n                        console.log(config.url, error)\n                    }).get()\n                })\n            }).error(function (error) {\n                console.log(config.url, error)\n            }).get()\n        })\n    }\n\n    getFile({access_token, repoOwner, repoName, fileSha}, callback) {\n        // let ctx = this\n        let config = getFile({\n            access_token,\n            repoOwner,\n            repoName,\n            fileSha,\n        })\n        LEUtils.request('', undefined, config.url).success(function (status, response) {\n            response.json().then(function (file) {\n                // console.log(config.url, {file})\n                let text = new Buffer(file.content, file.encoding).toString()\n                try {\n                    let configJson = JSON.parse(text)\n                    callback && callback(configJson)\n                } catch (e) {\n                    notification.error({\n                        message: '请检查选择的文件是否是JSON格式'\n                    })\n                }\n            })\n        }).error(function (error) {\n            console.log(config.url, error)\n        }).get()\n    }\n\n    onCheckPath(path, callback) {\n        // console.log('onCheckPath', path)\n        // RNFetchBlob.fs.exists(path).then((exist) => {\n        //     if (exist) {\n        //         callback && callback(true)\n        //     } else {\n        //         RNFetchBlob.fs.mkdir(path).then(() => {\n        //             callback && callback(true, path)\n        //         }).catch((err) => {\n        //             callback && callback(false, path)\n        //         })\n        //     }\n        // }).catch((err) => {\n        //     RNFetchBlob.fs.mkdir(path).then(() => {\n        //         callback && callback(true, path)\n        //     }).catch((err) => {\n        //         callback && callback(false, path)\n        //     })\n        // })\n    }\n\n    // getFileStream({access_token, repoOwner, repoName, fileSha, path}, callback) {\n    //     let ctx = this\n    //     let config = getFile({\n    //         access_token,\n    //         repoOwner,\n    //         repoName,\n    //         fileSha,\n    //     })\n    //     ctx.onCheckPath(path, (result) => {\n    //         // console.log({path, result})\n    //         if (result) {\n    //             RNFetchBlob.config({\n    //                 path: path + '/' + repoName,\n    //                 overwrite: true,\n    //                 fileCache: true,\n    //             }).fetch('GET', config.url).then((response) => {\n    //                 // console.log({response})\n    //                 callback && callback(path + '/' + repoName)\n    //             }).catch((e) => {\n    //                 RNFetchBlob.fs.unlink(config.path).then(() => {\n    //                 }).catch((err) => {\n    //                 })\n    //                 callback && callback(undefined)\n    //             })\n    //         }\n    //     })\n    // }\n}\n\nexport default class GiteeManagerView extends Component {\n\n    constructor() {\n        super()\n        this.state = {\n            giteeUrl: undefined,\n            userList: [],\n            viewStatus: GiteedivStatus.Idle,\n            repos: [],\n            files: [],\n        };\n        this.currentAccess = undefined\n        this.currentRepo = undefined\n        this.callback = undefined\n    }\n\n    getConfigFile(callback, reauthorize = false, isConfig = true, path, type) {\n        let ctx = this\n        ctx.callback = callback\n        ctx.isConfig = isConfig\n        ctx.path = path\n        GiteeManager.getInstance().getAuthorization((result) => {\n            if (result.type === GiteeResponseType.URL) {\n                ctx.setState({\n                    viewStatus: GiteedivStatus.Auth,\n                    giteeUrl: result.result,\n                })\n                window.location = result.result\n            } else {\n                ctx.setState({\n                    viewStatus: GiteedivStatus.ListUser,\n                    userList: Object.values(result.result || [])\n                })\n            }\n        }, reauthorize)\n    }\n\n    onShouldStartLoadWithRequest(url) {\n        let ctx = this\n        if (url.startsWith(GiteeConfig.redirect_uri)) {\n            url = url.substr(url.indexOf('?') + 1)\n            let _ = url.split('&')\n            let dic = {}\n            _.forEach(s => {\n                let a = s.split('=')\n                dic[a[0]] = a[1]\n            })\n            if (dic.code) {\n                let code = dic.code\n                GiteeManager.getInstance().getUser(code, (list) => {\n                    // console.log({list})\n                    ctx.setState({\n                        userList: list || [],\n                        viewStatus: GiteedivStatus.ListUser,\n                    })\n                })\n            } else if (dic.error) {\n                ctx.setState({\n                    viewStatus: GiteedivStatus.Idle,\n                })\n                ctx.props.invisible && ctx.props.invisible()\n                notification.error({\n                    message: '授权失败' + (dic.error_description ? ':' + decodeURIComponent(dic.error_description) : '')\n                })\n            }\n            return false\n        } else if (url === 'https://gitee.com/') {\n            console.log('>>>>', ctx.callback)\n            ctx.setState({\n                viewStatus: GiteedivStatus.Idle,\n            }, () => {\n                ctx.getConfigFile(ctx.callback, true)\n            })\n            return true\n        }\n        return true\n    }\n\n    render() {\n        let ctx = this\n        // console.log('render', {giteeUrl: ctx.state.giteeUrl, viewStatus: ctx.state.viewStatus})\n        let wrapper = (title, children, status, callback) => <div\n            style={{\n                borderRadius: 6,\n                width: '100%',\n                height: '100%',\n                backgroundColor: 'rgba(0,0,0,0.7)',\n            }}\n        >\n            <div\n                style={{\n                    flexDirection: 'row',\n                    width: '100%',\n                    height: 36,\n                    borderBottomWidth: 1,\n                    borderBottomColor: GiteeColor.SplitLineN,\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    paddingHorizontal: 15,\n                }}\n            >\n                {status > GiteedivStatus.ListUser ? <div\n                    style={{\n                        position: 'absolute',\n                        top: 0,\n                        bottom: 0,\n                        left: 0,\n                        width: 40,\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                    }}\n                    onClick={() => {\n                        callback && callback()\n                    }}\n                ><Icon type={'left'} size={18} color={GiteeColor.Title}/></div> : null}\n                <span\n                    style={{\n                        color: GiteeColor.Title,\n                        fontSize: 16,\n                        fontWeight: 'bold',\n                    }}\n                >{title}</span>\n                {status === GiteedivStatus.ListUser ? <div\n                    style={{\n                        position: 'absolute',\n                        top: 0,\n                        bottom: 0,\n                        right: 10,\n                        width: 80,\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                    }}\n                    onClick={() => {\n                        callback && callback()\n                    }}\n                ><span style={{\n                    color: GiteeColor.Button,\n                    fontSize: 15,\n                }}>重新授权</span></div> : null}\n            </div>\n            <div\n                style={{\n                    flex: 1,\n                    overflow: 'scroll',\n                }}\n            >{children}</div>\n        </div>\n        return ctx.props.visible ? <div\n            style={{\n                position: 'absolute',\n                width: '100%',\n                height: '100%',\n                backgroundColor: 'rgba(0,0,0,0.3)',\n                alignItems: 'center',\n                justifyContent: 'center',\n            }}\n        >\n            <div\n                style={{\n                    width: '85%',\n                    height: '80%',\n                    borderRadius: 6,\n                    borderWidth: 1,\n                    borderColor: GiteeColor.SplitLineN,\n                }}\n            >\n                {ctx.state.giteeUrl && ctx.state.viewStatus === GiteedivStatus.Auth ? <div\n                    style={{\n                        width: '100%',\n                        height: '100%',\n                    }}\n                    source={{\n                        uri: ctx.state.giteeUrl,\n                    }}\n                    onError={(e) => {\n                        console.log('onError', e.nativeEvent)\n                    }}\n                    onLoadEnd={(e) => {\n                        console.log('onLoadEnd', e.nativeEvent)\n                        // if (Platform.OS === 'android') {\n                        ctx.onShouldStartLoadWithRequest(e.nativeEvent.url)\n                        // }\n                    }}\n                    onShouldStartLoadWithRequest={(req) => {\n                        console.log('web onShouldStartLoadWithRequest', req)\n                        return ctx.onShouldStartLoadWithRequest(req.url)\n                    }}\n                /> : ctx.state.viewStatus === GiteedivStatus.ListUser ? wrapper('账户选择', ctx.state.userList.map(function (access, index) {\n                    return <div\n                        key={index}\n                        style={{\n                            height: 36,\n                            width: '100%',\n                            borderBottomColor: GiteeColor.SplitLineN,\n                            borderBottomWidth: 1,\n                            flexDirection: 'row',\n                            paddingHorizontal: 15,\n                            alignItems: 'center',\n                        }}\n                        onClick={() => {\n                            GiteeManager.getInstance().getRepos(access, (repos) => {\n                                // console.log({repos})\n                                ctx.currentAccess = access\n                                ctx.setState({\n                                    viewStatus: GiteedivStatus.Repos,\n                                    repos: repos || [],\n                                })\n                            })\n                        }}\n                    >\n                        <Icon type={'user'} size={16} color={GiteeColor.span}/>\n                        <span style={{marginLeft: 8, fontSize: 15, color: GiteeColor.span}}>{access.user.name}</span>\n                    </div>\n                }), ctx.state.viewStatus, () => {\n                    // CookieManager.clearAll().then((res) => {\n                    // })\n                    ctx.getConfigFile(ctx.callback, true)\n                }) : ctx.state.viewStatus === GiteedivStatus.Repos ? wrapper('Repos', ctx.state.repos.map(function (repo, index) {\n                    return <div\n                        key={index}\n                        style={{\n                            height: 36,\n                            width: '100%',\n                            borderBottomColor: GiteeColor.SplitLineN,\n                            borderBottomWidth: 1,\n                            flexDirection: 'row',\n                            paddingHorizontal: 15,\n                            alignItems: 'center',\n                        }}\n                        onClick={() => {\n                            ctx.currentRepo = repo\n                            GiteeManager.getInstance().getBranch(ctx.currentAccess, repo, (access, repo, branch, tree) => {\n                                ctx.setState({\n                                    viewStatus: GiteedivStatus.Files,\n                                    files: tree.tree || [],\n                                })\n                            })\n                        }}\n                    >\n                        <Icon type={'folder1'} size={16} color={GiteeColor.span}/>\n                        <span style={{marginLeft: 8, fontSize: 15, color: GiteeColor.span}}>{repo.name}</span>\n                    </div>\n                }), ctx.state.viewStatus, () => {\n                    ctx.setState({\n                        viewStatus: ctx.state.viewStatus - 1,\n                    })\n                }) : ctx.state.viewStatus === GiteedivStatus.Files ? wrapper('Files', ctx.state.files.map(function (file, index) {\n                    return <div\n                        key={index}\n                        style={{\n                            height: 36,\n                            width: '100%',\n                            borderBottomColor: GiteeColor.SplitLineN,\n                            borderBottomWidth: 1,\n                            flexDirection: 'row',\n                            paddingHorizontal: 15,\n                            alignItems: 'center',\n                        }}\n                        onClick={() => {\n                            if (ctx.isConfig) {\n                                GiteeManager.getInstance().getFile({\n                                    access_token: ctx.currentAccess.access_token,\n                                    repoOwner: ctx.currentRepo.owner.login,\n                                    repoName: ctx.currentRepo.name,\n                                    fileSha: file.sha,\n                                }, (configJson) => {\n                                    console.log('文件选择', configJson)\n                                    if (configJson.Source) {\n                                        configJson = configJson.Source\n                                        let fileDic = {}\n                                        ctx.state.files.forEach(function (f) {\n                                            fileDic[f.path] = f.sha\n                                        })\n                                        configJson.forEach(function (config, index) {\n                                            configJson[index].access_token = ctx.currentAccess.access_token\n                                            configJson[index].repoOwner = ctx.currentRepo.owner.login\n                                            configJson[index].repoName = ctx.currentRepo.name\n                                            let name = config.config.split('/')\n                                            configJson[index].fileSha = fileDic[name.pop()]\n                                        })\n                                        ctx.setState({\n                                            viewStatus: GiteedivStatus.Idle,\n                                        })\n                                        ctx.props.invisible && ctx.props.invisible()\n                                        ctx.callback && ctx.callback(configJson)\n                                    } else {\n                                        notification.error({\n                                            message: '请检查选择的文件是否含有Source数组'\n                                        })\n                                    }\n                                })\n                            } else {\n                                // GiteeManager.getInstance().getFileStream({\n                                //     access_token: ctx.currentAccess.access_token,\n                                //     repoOwner: ctx.currentRepo.owner.login,\n                                //     repoName: ctx.currentRepo.name,\n                                //     fileSha: file.sha,\n                                //     path: ctx.path,\n                                // }, (path) => {\n                                //     ctx.setState({\n                                //         viewStatus: GiteedivStatus.Idle,\n                                //     })\n                                //     ctx.props.invisible && ctx.props.invisible()\n                                //     ctx.callback && ctx.callback(path)\n                                // })\n                            }\n                        }}\n                    >\n                        <Icon type={'file1'} size={16} color={GiteeColor.span}/>\n                        <span style={{marginLeft: 8, fontSize: 15, color: GiteeColor.span}}>{file.path}</span>\n                    </div>\n                }), ctx.state.viewStatus, () => {\n                    ctx.setState({\n                        viewStatus: ctx.state.viewStatus - 1,\n                    })\n                }) : null}\n                <div\n                    style={{\n                        position: 'absolute',\n                        top: -15,\n                        right: -15,\n                    }}\n                    onClick={() => {\n                        ctx.setState({\n                            giteeUrl: undefined,\n                        })\n                        ctx.props.invisible && ctx.props.invisible()\n                    }}\n                ><Icon type={'closecircle'} size={28} color={GiteeColor.Alert}/></div>\n            </div>\n        </div> : null\n    }\n}\n\nexport class GiteeManagerHelper extends Component {\n\n    render() {\n        let ctx = this\n        return ctx.props.visible ? <div\n            style={{\n                position: 'absolute',\n                width: '100%', height: '100%',\n                backgroundColor: 'rgba(0,0,0,0.5)',\n            }}\n        >\n            <div style={{flex: 1}}>\n                <div\n                    style={{\n                        paddingHorizontal: 15,\n                        paddingVertical: 15,\n                        overflow: 'scroll',\n                    }}\n                >\n                    {GiteeHelper.map(({type, content}) => {\n                        return <span style={GiteeHelperStyle[type]}>{content}</span>\n                    })}\n                    <div style={{\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                    }}>\n                        <div\n                            style={{\n                                marginTop: 15,\n                                borderRadius: 6,\n                                width: '80%',\n                                paddingVertical: 10,\n                                alignItems: 'center',\n                                justifyContent: 'center',\n                                backgroundColor: '#1b7aee',\n                            }}\n                            onClick={() => {\n                                ctx.props.invisible && ctx.props.invisible()\n                            }}\n                        ><span style={{fontSize: 16, color: '#fff'}}>我知道了</span></div>\n                    </div>\n                </div>\n            </div>\n        </div> : null\n    }\n}","/**\n * Created by LarryEmerson\n * User: larryemerson@163.com\n * Date: 2019/4/1\n * Time: 7:10 PM\n */\nimport React, {Component} from \"react\";\nimport {evalTemplate} from '../LEFrameWorks/LEJSParser'\nimport Cheerio from 'cheerio'\nimport {GiteeManager} from './GiteeManager'\n// import MovieSqlite from './MovieSqlite'\nimport LEUtils from '../LEFrameWorks/LEUtils'\n\nconst EnableConsole = false\nvar iconv = require('iconv-lite');\nvar Buffer = require('buffer/').Buffer\nconst getDecodedText = ({RequestType, Decode}, text, type) => {\n    let result = Decode.length == 0 ? text : RequestType.length > 0 ?\n        iconv.decode(new Buffer(text, type || 'base64'), Decode)\n        : new Buffer(text, Decode).toString()\n    // console.log({RequestType, Decode, result, text})\n    return result\n}\nexport default class MovieFetcherTemplate {\n    constructor(requestConfig) {\n        let context = this\n        // console.log({requestConfig})\n        context.requestConfig = requestConfig\n        context.configUrl = requestConfig.config\n        context.currentPage = 1\n        context.recordsList = []\n        context.pendingFetchList = []\n        context.callback = undefined\n        // context.configs = {\n        //     \"Site\": \"http://aetyui.xyz/2048/\",\n        //     \"BufferDecode\": \"utf8\",\n        //     \"Decode\": \"utf8\",\n        //     \"RequestType\": \"rnfb\",\n        //     \"ScriptListURL\": \"(site,currentPage)=>{return `${site}/thread.php?fid-23`+(currentPage==0?'':'-page-'+currentPage)+'.html';}\",\n        //     \"ScriptListResponse\": \"(responseText)=>{var $ = this.Cheerio.load(responseText);let tr3 = $('.tr3');var records = [];tr3.each(function (i, v) {let f10 = $(v).find('.f10');let a = $(v).find('a');if (f10.length > 0) {let time = f10.next().text();let href = $(a).attr('href');let timestamp = new Date().toLocaleDateString();var record = {id: href,timestamp: timestamp,href: href,title: time,images: []}; records.push(record);}});return records;}\",\n        //     \"ScriptDetailsURL\": \"(site,url)=>`${site}/${url}`\",\n        //     \"ScriptDetailsResponse\": \"(responseText)=>{var $ = this.Cheerio.load(responseText);let data = {texts: [], hrefs: [],images:[]};$('#read_tpc').find('img').each(function (x, y) {data.images.push($(y).attr('src'))});return data;}\"\n        // }\n        // context.configs = {\n        //     \"Site\": \"https://www.dy2018.com/\",\n        //     \"Decode\": \"gb2312\",\n        //     \"RequestType\": \"rnfb\",\n        //     \"ScriptListURL\": \"(site,currentPage)=>{let suffix=currentPage==1?'index.html':('index_'+currentPage+'.html');return `${site}html/gndy/jddyy/${suffix}`}\",\n        //     \"ScriptListResponse\": \"(responseText)=>{var $=this.Cheerio.load(responseText);let co_area2=$('.bd3r>.co_area2');let records=[];co_area2.find('table').each(function (i,v){  const href=$(v).find('a').next().attr('href')||$(v).find('a').attr('href') ; records.push({href});});return records;}\",\n        //     \"ScriptDetailsURL\": \"(site,url)=>`${site}${url}`\",\n        //     \"ScriptDetailsResponse\": \"(t)=>{var $=this.Cheerio.load(t);var data = {    texts: [],    images: [],    hrefs: []};var zoom = $('.co_area2').find('#Zoom');$(zoom).find('p').each(function (x, y) {    var text = $(y).text() || '';    text = text.indexOf('影片截图')!=-1 || text.indexOf('下载地址')!=-1 ? '' : text.trim();    text.length > 0 && data.texts.push(text);});$(zoom).find('img').each(function (x, y) {    var img = $(y).attr('src') || '';    img.trim().length > 0 && data.images.push(img.trim());});$(zoom).find('tbody').each(function (a, b) {    var href = $(b).find('a').attr('href');    href = href == 'javascript:void(0)' && $(b).find('a').attr('src') || href; data.texts.push(href);   data.hrefs.push({title: href, href: href});});return data;}\"\n        // }\n        // const $ = Cheerio.load(text)\n        // let tr3 = $('.tr3');var records = [];tr3.each(function (i, v) {let f10 = $(v).find('.f10');let a = $(v).find('a');if (f10.length > 0) {let time = f10.next().text();let href = $(a).attr('href');let timestamp = new Date().toLocaleDateString();var record = {id: href,timestamp: timestamp,href: href,title: time,images: []}; records.push(record);}});return records;\n        // context.configs = {\n        //     \"Site\": \"http://www.byg521.com/\",\n        //     \"Decode\": \"utf8\",\n        //     \"RequestType\": \"rnfb\",\n        //     \"ScriptListURL\": \"(site,currentPage,callback)=>{let suffix=currentPage==1?'.html':('_'+currentPage+'.html');callback&&callback(`${site}category/103${suffix}`)}\",\n        //     \"ScriptListResponse\": \"(responseText,callback)=>{var $ = this.Cheerio.load(responseText);var records = [];$('.tableList').each(function (i, v) {$(v).find('.vTitle').each(function (x, y) {var timestamp = new Date().toLocaleDateString();var href = $(y).attr('href');var title = $(y).text();var record = {id: href, timestamp: timestamp, href: href, title: title, images: []};records.push(record);});});callback&&callback(records);}\",\n        //     \"ScriptDetailsURL\": \"(site,url,callback)=>{callback&&callback(`http://www.byg521.com/${url}`)}\",\n        //     \"ScriptDetailsResponse\": \"(responseText,callback)=>{var $ = this.Cheerio.load(responseText);let ctxs = $('.context').find('#post_content');let spans = $(ctxs).find('span');\\nlet hrefs = $(ctxs).find('a');\\nlet data = {texts: [], hrefs: []};\\nlet spanKeys = Object.keys(spans);\\nspanKeys.map(function (i, v) {\\n    if (!isNaN(parseInt(i))) {\\n        v = spans[i];\\n        data.texts.push($(v).text().trim());\\n    }\\n});\\nlet hrefKeys = Object.keys(hrefs);\\nhrefKeys.map(function (i, v) {\\n    if (!isNaN(parseInt(i))) {\\n        v = hrefs[i];\\n        let tmp = {\\n            title: $(v).text(),\\n            href: $(v).attr('href').trim()\\n        }\\n        data.hrefs.push(tmp);\\n    }\\n});\\ncallback&&callback(data);}\"\n        // }\n        // context.movieSqlite = new MovieSqlite()\n        // context.movieSqlite.setReceiver((message) => {\n        //     // console.log('setReceiver', message)\n        // })\n        // context.movieSqlite.setLogger((message) => {\n        //     // console.log('setLogger', message)\n        // })\n        // context.movieSqlite.sqlInitDB((result) => {\n        //     // console.log('sqlInitDB', result)\n        // })\n        // context.configs && console.log('JS', JSON.stringify(context.configs))\n        context.pageNo = 0\n        context.pageSize = 1\n    }\n\n    getCombinedImages(left, right) {\n        let result = {}\n        left && left.forEach((i) => {\n            result[i] = i\n        })\n        right && right.forEach((i) => {\n            result[i] = i\n        })\n        return Object.keys(result)\n    }\n\n    // _ff(responseText) {\n    //     var $ = Cheerio.load(responseText);\n    //     let title = $('head>title').text()\n    //     let link = ''\n    //     $('form>.t5').find('.r_one').each(function (x, y) {\n    //         let a = $(y).find('a');\n    //         if (a && a.attr('href')) {\n    //             let font = $(a).find('font');\n    //             link = {\n    //                 title: font ? font.text() : $(a).text(),\n    //                 href: 'http://aetyui.xyz/2048/' + a.attr('href')\n    //             }\n    //         }\n    //     })\n    //     let data = {texts: [title, link], hrefs: [link], images: []};\n    //     $('#read_tpc').find('img').each(function (x, y) {\n    //         data.images.push($(y).attr('src'))\n    //     });\n    //     return data;\n    // }\n    _ff(responseText) {\n        var $ = Cheerio.load(responseText);\n        let title = $('head>title').text();\n        let link = '';\n        let data = {texts: [title], hrefs: [], images: []};\n        $('form>.read_tpc').find('a').each(function (x, y) {\n            let img = $(y).find('img');\n            if (img) {\n                data.images.push($(y).attr('src'));\n            } else {\n                let href = $(y).attr('href');\n                let text = $(y).text() || title\n                if (href) {\n                    link = {\n                        title: text,\n                        href: href\n                    }\n                }\n                data.texts.push(link.title)\n                data.hrefs.push(link)\n            }\n        });\n        // $('#read_tpc').find('img').each(function (x, y) {\n        //     data.images.push($(y).attr('src'));\n        // });\n        return data;\n    }\n\n    __ff(responseText, callback) {\n        var $ = Cheerio.load(responseText);\n        let ctxs = $('.context').find('#post_content');\n        let spans = $(ctxs).find('span');\n        let hrefs = $(ctxs).find('a');\n        let data = {texts: [], hrefs: []};\n        let spanKeys = Object.keys(spans);\n        spanKeys.map(function (i, v) {\n            if (!isNaN(parseInt(i))) {\n                v = spans[i];\n                data.texts.push($(v).text().trim());\n            }\n        });\n        let hrefKeys = Object.keys(hrefs);\n        hrefKeys.map(function (i, v) {\n            if (!isNaN(parseInt(i))) {\n                v = hrefs[i];\n                let tmp = {title: $(v).text(), href: $(v).attr('href').trim()};\n                data.hrefs.push(tmp);\n            }\n        });\n        callback && callback(data);\n    }\n\n    ___f(responseText, callback) {\n        var $ = Cheerio.load(responseText);\n        var records = [];\n        $('.tableList').each(function (i, v) {\n            $(v).find('.vTitle').each(function (x, y) {\n                var timestamp = new Date().toLocaleDateString();\n                var href = $(y).attr('href');\n                var title = $(y).text();\n                var record = {\n                    id: href,\n                    timestamp: timestamp,\n                    href: href,\n                    title: title,\n                    images: []\n                };\n                records.push(record);\n            });\n        });\n        callback && callback(records);\n    }\n\n    runFetcher() {\n        let context = this\n        if (!context.fetcherTimer) {\n            context.fetcherTimer = setInterval(() => {\n                let record = context.pendingFetchList.shift()\n                if (record) {\n                    evalTemplate(context.configs.ScriptDetailsURL)(context.configs.Site, record.href, (url) => {\n                        EnableConsole && console.log('_fetchDetails url', url, record)\n                        LEUtils.request('', undefined, url, context.configs.RequestType)\n                            .success(function (status, response) {\n                                if (false&&context.configs.RequestType.length > 0) {\n                                    // let text = context.configs.BufferDecode.length > 0 && context.configs.Decode.length > 0 ?\n                                    //     new Buffer(response.data, context.configs.BufferDecode).toString() : response.data\n                                    // iconv.decode(new Buffer(response.data, context.configs.BufferDecode), context.configs.Decode) : response.data\n                                    let text = getDecodedText(context.configs, response.data, response.type)\n                                    // let data =\n                                    evalTemplate(context.configs.ScriptDetailsResponse)(text, (data) => {\n                                        // data = context._ff(text)\n                                        EnableConsole && console.log('_fetchDetails data, record', {data, record})\n                                        data.record = record\n                                        data.id = url\n                                        data.images = context.getCombinedImages(record.images, data.images)\n                                        // context.movieSqlite.insertToLists(context.configs, [data], context.requestConfig.config)\n                                        context._callbackWithData(data)\n                                        context.isFetching = false\n                                    })\n                                } else {\n                                    response.text().then((text) => {\n                                        // text = context.configs.BufferDecode.length > 0 && context.configs.Decode.length > 0 ?\n                                        //     new Buffer(text, context.configs.BufferDecode).toString() : text\n                                        // iconv.decode(new Buffer(text, context.configs.BufferDecode), context.configs.Decode) : text\n                                        // text = getDecodedText(context.configs, text)\n                                        // let data =\n                                        evalTemplate(context.configs.ScriptDetailsResponse)(text, (data) => {\n                                            // data = context._f_details(text)\n                                            EnableConsole && console.log('_fetchDetails', {text, data, record,})\n                                            data.record = record\n                                            data.id = url\n                                            data.images = context.getCombinedImages(record.images, data.images)\n                                            // context.movieSqlite.insertToLists(context.configs, [data], context.requestConfig.config)\n                                            context._callbackWithData(data)\n                                            context.isFetching = false\n                                        })\n                                    })\n                                }\n                            }).error(function (e) {\n                            context._callbackWithData(undefined)\n                        }).get(undefined, context.configs.Decode)\n                    })\n                } else {\n                    context.stopFetcher()\n                }\n            }, 50)\n        }\n    }\n\n    _f_details(responseText) {\n        console.log('>>>>_f_details', responseText)\n        var $ = Cheerio.load(responseText);\n        var data = {texts: [], images: [], hrefs: []};\n        $('.pg_viewthread>.wp>.wp').find('img').each(function (i, v) {\n            data.images.push('http://www.code4app.com/' + $(v).attr('file'));\n        });\n        return data;\n    }\n\n    fff(responseText) {\n        let context = this\n        var $ = Cheerio.load(responseText);\n        var co_area2 = $('.bd3r>.co_area2');\n        var records = [];\n        co_area2.find('table').each(function (i, v) {\n            var href = $(v).find('a').next().attr('href') || $(v).find('a').attr('href');\n            records.push({href: href});\n        });\n        return records;\n    }\n\n    stopFetcher() {\n        let context = this\n        context.fetcherTimer && clearInterval(context.fetcherTimer)\n        context.fetcherTimer = undefined\n    }\n\n    _fetchDetails() {\n        let context = this\n        context.isFetching = true\n        let record = context.recordsList.shift()\n        if (record) {\n            context.pendingFetchList.push(record)\n            context.runFetcher()\n        } else {\n            context.isFetching = false\n            context._getDetails(context.callback)\n        }\n    }\n\n    getDetails(callback, folder) {\n        let context = this\n        context.callback = callback\n        // if (folder) {\n        //     if (context.lastFolder != folder) {\n        //         context.pageNo = 0\n        //     }\n        //     context.lastFolder = folder\n        //     context.movieSqlite.onQuery(context.pageNo, context.pageSize, folder, (result) => {\n        //         let r = undefined\n        //         if (result) {\n        //             r = {\n        //                 config: result.type,\n        //                 hrefs: JSON.parse(result.hrefs.replace(/\\'/g, '\\\"')),\n        //                 texts: JSON.parse(result.texts.replace(/\\'/g, '\\\"')),\n        //                 images: JSON.parse(result.images.replace(/\\'/g, '\\\"')),\n        //             }\n        //             context._callbackWithData(r)\n        //             context.pageNo++\n        //         } else {\n        //             if (context.pageNo > 0) {\n        //                 context.pageNo = 0\n        //                 context.getDetails(callback, folder)\n        //             } else {\n        //                 context.pageNo = 0\n        //                 context._callbackWithData(undefined)\n        //             }\n        //         }\n        //     })\n        //     return\n        // }\n        context.pageNo = 0\n        // console.log('isFetching', context.isFetching)\n        if (context.isFetching) return\n        if (context.configs) {\n            context._getDetails()\n        } else {\n            let url = context.configUrl\n            if (context.requestConfig.access_token) {\n                GiteeManager.getInstance().getFile({\n                    access_token: context.requestConfig.access_token,\n                    repoOwner: context.requestConfig.repoOwner,\n                    repoName: context.requestConfig.repoName,\n                    fileSha: context.requestConfig.fileSha,\n                }, (json) => {\n                    context.configs = json\n                    // console.log('config', json)\n                    context._getDetails()\n                })\n            } else {\n                LEUtils.request('', undefined, context.configUrl).success(function (status, response) {\n                    response.json().then(function (json) {\n                        context.configs = json\n                        context._getDetails()\n                    })\n                }).error(function (e) {\n                    EnableConsole && console.log('getDetails error', context.configUrl, e)\n                }).get()\n            }\n        }\n\n    }\n\n    _getDetails() {\n        let context = this\n        // console.log('_getDetails', context.recordsList.length)\n        if (context.recordsList.length > 0) {\n            context._fetchDetails(context.recordsList.shift())\n        } else {\n            context._fetchDataList()\n        }\n    }\n\n    _fetchDataList() {\n        let context = this\n        evalTemplate(context.configs.ScriptListURL)(context.configs.Site, context.currentPage, (url) => {\n            EnableConsole && console.log('_fetchDataList url', url)\n            LEUtils.request('', undefined, url, context.configs.RequestType).success(function (status, response) {\n                EnableConsole && console.log('_fetchDataList======>configs', status, context.configs, response)\n                context.currentPage++;\n                let data = response.data != undefined ? response.data : response\n                if (false&&context.configs.RequestType.length > 0) {\n                    // let text = context.configs.BufferDecode.length > 0 && context.configs.Decode.length > 0 ?\n                    //     new Buffer(data, context.configs.BufferDecode).toString() : data\n                    //     iconv.decode(new Buffer(data, context.configs.BufferDecode), context.configs.Decode) : data\n                    let text = getDecodedText(context.configs, data, response.type)\n                    EnableConsole && console.log('_fetchDataList success', status,)\n                    if (text && text.length > 0) {\n                        evalTemplate(context.configs.ScriptListResponse)(text, (data) => {\n                            context.recordsList = context.recordsList.concat(data)\n                            if (!context.recordsList || context.recordsList.length == 0) {\n                                EnableConsole && console.log('_fetchDataList error no more',)\n                                context._callbackWithData(undefined)\n                            } else {\n                                // context.movieSqlite.insertToLists(context.configs, data)\n                                context._fetchDetails()\n                            }\n                        })\n                    }\n                } else {\n                    data.text().then((text) => {\n                        // text = context.configs.BufferDecode.length > 0 && context.configs.Decode.length > 0 ?\n                        //     new Buffer(text, context.configs.BufferDecode).toString() : text\n                        // iconv.decode(new Buffer(text, context.configs.BufferDecode), context.configs.Decode) : text\n                        // text = getDecodedText(context.configs, text, response.type)\n                        evalTemplate(context.configs.ScriptListResponse)(text, (data) => {\n                            context.recordsList = context.recordsList.concat(data)\n                            context._fetchDetails()\n                        })\n                        // context.recordsList = context._f_list(text)\n                    })\n                }\n            }).error(function (e) {\n                EnableConsole && console.log('_fetchDataList error', e)\n                context._callbackWithData(undefined)\n            }).get(undefined, context.configs.Decode)\n        })\n    }\n\n    _f_list(responseText) {\n        console.log('>>>>_f_list', responseText)\n        var $ = Cheerio.load(responseText);\n        let records = [];\n        let waterfall = $('.waterfall');\n        $(waterfall).find('li').each(function (i, v) {\n            const href = $(v).find('a').attr('href');\n            href && records.push({href});\n        });\n        return records;\n    }\n\n    ffff(responseText) {\n        var $ = Cheerio.load(responseText);\n        let co_area2 = $('.bd3r>.co_area2');\n        let records = [];\n        co_area2.find('table').each(function (i, v) {\n            const href = $(v).find('a').next().attr('href') || $(v).find('a').attr('href');\n            records.push({href});\n        });\n        return records;\n    }\n\n    _callbackWithData(data) {\n        let context = this\n        context.callback && context.callback(data)\n        context.callback = undefined\n        // console.log('_callbackWithData',data)\n    }\n\n}\n","/**\n * Created by LarryEmerson\n * User: larryemerson@163.com\n * Date: 2019/11/11\n * Time: 6:31 PM\n */\n\nimport React, {createContext, PureComponent} from 'react';\n\nexport const initialStore = {\n    savedLinks: [],\n    historyList: [],\n    showWKY: false,\n    showImage: false,\n    downloadsStorage: [],\n};\nconst StoreKeyLinks = 'StoreKeyLinks'\nexport const Store = createContext(initialStore);\n\nexport class StoreProvider extends PureComponent {\n\n    state = {\n        ...initialStore\n    }\n\n    toggleWKY = (flag) => {\n        let context = this\n        let result = flag === undefined ? !context.state.showWKY : flag\n        context.setState({showWKY: result})\n    }\n    toggleImage = (flag) => {\n        let result = flag === undefined ? !this.state.showImage : flag\n        this.setState({showImage: result})\n        return result\n    }\n    addDownload = (download) => {\n        const {downloadsStorage} = this.state\n        const index = downloadsStorage.findIndex(d => d.id === download.id)\n        if (index >= 0) {\n            downloadsStorage.splice(index, 1)\n        }\n        let array = [download, ...downloadsStorage]\n        this.setState({downloadsStorage: array})\n    }\n    removeDownloads = (downloads) => {\n        downloads = Array.isArray(downloads) ? downloads : [downloads]\n        const {downloadsStorage} = this.state;\n        const _downloadsStorage = downloadsStorage.filter(ds => !downloads.find(d => (d.id || d) === ds.id));\n        this.setState({downloadsStorage: _downloadsStorage});\n    }\n    refreshDownloads = (downloads) => {\n        let {downloadsStorage} = this.state\n        let _downloadsStorage = []\n        downloadsStorage.forEach(download => {\n            const index = downloads.findIndex(d => d.id === download.id)\n            if (index >= 0) {\n                _downloadsStorage.push(downloads[index])\n            } else {\n                _downloadsStorage.push(download)\n            }\n        })\n        this.setState({downloadsStorage: _downloadsStorage})\n    }\n    //添加历史记录\n    addHistory = (item) => {\n        const {historyList} = this.state;\n        const index = historyList.findIndex(el => el.id === item.id);\n        if (index >= 0) {\n            historyList.splice(index, 1);\n        }\n        this.setState({historyList: [item, ...historyList]});\n    }\n    //删除历史记录\n    removeHistory = (idList) => {\n        const {historyList} = this.state;\n        const _historyList = historyList.filter(el => !idList.find(d => d === el.id));\n        this.setState({historyList: _historyList});\n    }\n\n    //查找历史记录\n    findHistory = (id) => {\n        const {historyList} = this.state;\n        return historyList.find(el => el.id === id);\n    }\n\n\n    saveLink = (links) => {\n        let context = this\n        const {savedLinks} = this.state;\n        links = (Array.isArray(links) ? links : [links]).filter(function (link) {\n            return !context.getLink(link)\n        })\n        this.setState({savedLinks: savedLinks.concat(links)});\n    }\n    getLink = (link) => {\n        const {savedLinks} = this.state\n        let result = link ? savedLinks.some(item => item === link) : false\n        return result\n    }\n\n\n    saveLinks(savedLinks) {\n        let context = this\n        localStorage.setItem(StoreKeyLinks, JSON.stringify(savedLinks))\n        context.setState({\n            savedLinks: savedLinks,\n        })\n    }\n\n    async componentDidMount() {\n        let context = this\n        let savedLinks = JSON.parse(localStorage.getItem(StoreKeyLinks) || '[]')\n        context.saveLinks(savedLinks)\n        const downloadsStorage = localStorage.getItem('downloadsStorage') || [];\n        this.setState({downloadsStorage: downloadsStorage});\n        const showImage = localStorage.getItem('showImage') || [];\n        this.setState({showImage: showImage});\n\n\n    }\n\n\n    componentDidUpdate(prevProps, prevState) {\n        let context = this\n        if (prevState.savedLinks !== context.state.savedLinks) {\n            context.saveLinks(context.state.savedLinks)\n        }\n        if (prevState.downloadsStorage !== this.state.downloadsStorage) {\n            localStorage.setItem('downloadsStorage', context.state.downloadsStorage);\n        }\n        if (prevState.showImage !== this.state.showImage) {\n            localStorage.setItem('showImage', context.state.showImage);\n        }\n    }\n\n    render() {\n        // let context = this\n        const {savedLinks, historyList, showWKY, showImage, downloadsStorage} = this.state;\n        return (\n            <Store.Provider value={{\n                savedLinks: savedLinks,\n                downloadsStorage: downloadsStorage,\n                refreshDownloads: this.refreshDownloads,\n                addDownload: this.addDownload,\n                removeDownloads: this.removeDownloads,\n                saveLink: this.saveLink,\n                getLink: this.getLink,\n                historyList: historyList,\n                addHistory: this.addHistory,\n                removeHistory: this.removeHistory,\n                findHistory: this.findHistory,\n                toggleWKY: this.toggleWKY,\n                showWKY: showWKY,\n                toggleImage: this.toggleImage,\n                showImage: showImage,\n            }}>\n                {this.props.children}\n            </Store.Provider>\n        )\n    }\n}","/**\n * Created by LarryEmerson\n * User: larryemerson@163.com\n * Date: 2019/3/12\n * Time: 3:27 PM\n */\n\nimport React, {Component} from 'react';\nimport './MoviePageTemplate.css';\nimport MovieFetcherTemplate from './MovieFetcherTemplate'\n// import {RenderWKY} from \"./WKYManagerV2\";\nimport {Store} from \"./StoreProvider\";\nimport Icon from 'antd/lib/icon'\n// import md5 from \"react-native-md5\";\n// import DownloadsInfoManager from \"./DownloadsInfoManager\";\nimport GiteeManagerView, {GiteeManagerHelper, GiteeManager} from './GiteeManager'\nimport LEUtils from '../LEFrameWorks/LEUtils'\nimport notification from 'antd/lib/notification'\nimport Button from 'antd/lib/button'\nimport BackTop from 'antd/lib/back-top'\nimport Badge from 'antd/lib/badge'\n\nconst ButtonConfigs = {\n    image: {\n        id: 'image',\n        key: 'showImage',\n        isContext: true,\n        iconH: 'file-image',\n        iconN: 'file-image',\n        icon: Icon,\n    },\n    text: {\n        id: 'text',\n        key: 'showText',\n        isContext: false,\n        iconH: 'font-size',\n        iconN: 'font-size',\n        icon: Icon,\n    },\n    scroll: {\n        id: 'scroll',\n        key: 'toggleScroll',\n        isContext: false,\n        iconH: 'pic-center',\n        iconN: 'pic-center',\n        icon: Icon,\n    },\n    server: {\n        id: 'server',\n        key: 'toggleServer',\n        isContext: false,\n        iconH: 'database',\n        iconN: 'database',\n        icon: Icon,\n    },\n    visible: {\n        id: 'visible',\n        key: 'visible',\n        isContext: false,\n        iconH: 'eye',\n        iconN: 'eye-invisible',\n        icon: Icon,\n    },\n    history: {\n        id: 'history',\n        key: 'history',\n        isContext: false,\n        iconH: 'history',\n        iconN: 'history',\n        icon: Icon,\n    },\n    helper: {\n        id: 'helper',\n        key: 'giteeHelperVisible',\n        isContext: false,\n        iconH: 'info',\n        iconN: 'info',\n        icon: Icon,\n    },\n}\nlet ConfigURL = 'https://gitee.com/larryemerson/PersonalConfigs/raw/master/PMConfigs.json'\nconst ContentType = {\n    Text: 0,\n    Image: 1,\n    Test: -1,\n}\nconst MaxLoadingFailed = 3\nconst GiteeConfigsKey = 'GiteeConfigsKey'\n\nexport default class MoviePageTemplate extends Component {\n\n    componentWillUnmount() {\n    }\n\n    componentWillMount() {\n        let context = this\n        console.log('GiteeConfigsKey',LEUtils.getFromLocal(GiteeConfigsKey))\n        if (context.state.currentPages.length > 0) {\n            context.setState({\n                selectedPage: context.state.currentPages.length > 0 ? context.state.currentPages[0] : undefined\n            })\n        } else {\n            context.state[ButtonConfigs.text.key] = LEUtils.getFromLocal(ButtonConfigs.text.key) == undefined ? LEUtils.getFromLocal(ButtonConfigs.text.key) : true\n            context.state[ButtonConfigs.visible.key] = LEUtils.getFromLocal(ButtonConfigs.visible.key) == undefined ? LEUtils.getFromLocal(ButtonConfigs.visible.key) : false\n            // false &&\n            context.getGitee(() => {\n                LEUtils.request('', undefined, ConfigURL).success(function (status, response) {\n                    response.json().then(function (json) {\n                        context.state.currentPages = json.Source || []\n                        let pending = []\n                        context.giteeConfigs.forEach(config => {\n                            if (!context.state.currentPages.some(s => {\n                                    return s.config == config.config\n                                })) {\n                                pending.push(config)\n                            }\n                        })\n                        context.state.currentPages = context.state.currentPages.concat(pending)\n                        context.onChangePageIndex(context.state.currentPages.length > 0 ? 0 : undefined)\n                    })\n                }).error(function (e) {\n                    console.log('test error', e)\n                }).get()\n            })\n        }\n\n    }\n\n    getGitee(callback) {\n        let context = this;\n        context.giteeConfigs = LEUtils.getFromLocal(GiteeConfigsKey) || []\n        callback && callback()\n    }\n\n    componentDidMount() {\n        let context = this;\n    }\n\n\n    constructor() {\n        super();\n        this.viewabilityConfig = {\n            minimumViewTime: 200,\n            waitForInteraction: true,\n            // viewAreaCoveragePercentThreshold: 50,\n            itemVisiblePercentThreshold: 95,\n        }\n        this.state = {\n            dataSourceRendered: [],\n            isRefreshing: false,\n            autoScrollPixels: 1,\n            autoScrollEnabled: 0,\n            pastesArray: [],\n            togglePaste: false,\n            //\n            currentPages: [],\n            selectedPage: undefined,\n            contentOffset: 0,\n            inputServer: undefined,\n            inputServer_: undefined,\n            previewImages: [],\n            previewImageIndex: 0,\n            screenWidth: '100%',\n            screenHeight: '100%',\n            togglePageSelection: true,\n        };\n        this.loadingFailed = 0\n        this.fetchers = {}\n        this.requestConfig = undefined\n        this.giteeConfigs = []\n    }\n\n    onChangePageIndex(index) {\n        let context = this\n        if (context.state.selectedPage != index && index != undefined) {\n\n            context.loadingFailed = 0\n            context.state.selectedPage = index\n            context.state.togglePageSelection = false\n            context.requestConfig = context.state.currentPages[context.state.selectedPage]\n            context.loadNews()\n        }\n\n    }\n\n    loadNews() {\n        let context = this;\n        context.state.dataSourceRendered = []\n        context.loadMore()\n    }\n\n    loadMore() {\n        let context = this;\n        if (context.state[ButtonConfigs.history.key]) {\n            let folder = context.getFolder(context.requestConfig.config)\n            context.historyFetch = context.historyFetch || new MovieFetcherTemplate({config: ''})\n            context.historyFetch.getDetails((data) => {\n                if (data) {\n                    let ds = []\n                    let texts = data.texts || []\n                    let images = data.images || []\n                    let hrefs = data.hrefs || []\n                    let links = hrefs && hrefs.reduce((result, {title, href}) => {\n                        result[title] = href\n                        return result\n                    }, {})\n                    images.forEach(i => {\n                        ds.push({\n                            type: ContentType.Image,\n                            content: i,\n                            config: data.config,\n                        })\n                    })\n                    ds.push({\n                        type: ContentType.Text,\n                        content: {\n                            texts,\n                            links,\n                        }\n                    })\n                    context.setState({\n                        dataSourceRendered: context.state.dataSourceRendered.concat(ds),\n                        isRefreshing: false,\n                    }, () => {\n                        context.listView && context.listView.flashScrollIndicators()\n                    })\n                } else {\n                    context.loadingFailed++\n                    notification.error({\n                        message: '拉取数据失败'\n                    })\n                    // LEToast.fail('拉取数据失败')\n                    context.setState({\n                        isRefreshing: false,\n                    })\n                }\n            }, folder)\n            return\n        }\n        context.setState({\n            isRefreshing: true,\n        }, () => {\n            if (context.requestConfig && context.loadingFailed < MaxLoadingFailed) {\n                context.fetchers[context.requestConfig.config] = context.fetchers[context.requestConfig.config] || new MovieFetcherTemplate(context.requestConfig)\n                context.fetchers[context.requestConfig.config].getDetails((data) => {\n                    if (data) {\n                        let ds = []\n                        let texts = data.texts || []\n                        let images = data.images || []\n                        let hrefs = data.hrefs || []\n                        let links = hrefs && hrefs.reduce((result, {title, href}) => {\n                            result[title] = href\n                            return result\n                        }, {})\n                        images.forEach(i => {\n                            ds.push({\n                                type: ContentType.Image,\n                                content: i,\n                                config: data.config,\n                            })\n                        })\n                        ds.push({\n                            type: ContentType.Text,\n                            content: {\n                                texts,\n                                links,\n                            }\n                        })\n                        context.setState({\n                            dataSourceRendered: context.state.dataSourceRendered.concat(ds),\n                            isRefreshing: false,\n                        }, () => {\n                            context.listView && context.listView.flashScrollIndicators()\n                        })\n                    } else {\n                        context.loadingFailed++\n                        notification.error({\n                            message: '拉取数据失败'\n                        })\n                        context.setState({\n                            isRefreshing: false,\n                        })\n                    }\n                }, context.state[ButtonConfigs.history.key])\n            }\n        })\n    }\n\n    handleDownload(link, title) {\n        let context = this\n        const {addDownload} = context.context;\n        addDownload({\n            title,\n            link,\n            addTime: new Date(),\n            copyTime: '',\n            deleteTime: '',\n            checked: false,\n            coppied: false,\n            deleted: false,\n            // id: md5.hex_md5(title + '_' + link),\n        })\n    }\n\n    getFolder(f) {\n        let folder = '' + f\n        folder = folder.replace('.json', '')\n        folder = folder.substr(folder.lastIndexOf('/') + 1)\n        return folder\n    }\n\n    render() {\n        let context = this\n        let line = 0\n        const {\n            showImage,\n            downloadsStorage,\n            toggleWKY,\n            showWKY,\n            currentOrientation,\n        } = context.context;\n        let pageX = parseInt(!currentOrientation ? context.state.screenWidth : context.state.screenHeight)\n        let pageY = parseInt(currentOrientation ? context.state.screenWidth : context.state.screenHeight)\n        let renderBtn = (text, callback) => {\n            return <Button\n                type={'primary'}\n                icon={text}\n                className=\"center\"\n                onClick={() => callback && callback()}\n            />\n        }\n        let renderStepper = (title, key, step, callback) => {\n            return <div className=\"step-container\">\n                {renderBtn('minus', () => {\n                    context.state[key] -= step * 100\n                    context.state[key] = Math.max(context.state[key], 0)\n                    callback && callback()\n                })}\n                {renderBtn('minus', () => {\n                    context.state[key] -= step * 10\n                    context.state[key] = Math.max(context.state[key], 0)\n                    callback && callback()\n                })}\n                {renderBtn('minus', () => {\n                    context.state[key] -= step\n                    context.state[key] = Math.max(context.state[key], 0)\n                    callback && callback()\n                })}\n                <div className=\"step-text-container\">\n                    <div className=\"step-text\" style={{fontWeight: 'bold'}}>{title}</div>\n                    <div className=\"step-text\">{context.state[key]}</div>\n                </div>\n                {renderBtn('plus', () => {\n                    context.state[key] += step\n                    callback && callback()\n                })}\n                {renderBtn('plus', () => {\n                    context.state[key] += step * 10\n                    callback && callback()\n                })}\n                {renderBtn('plus', () => {\n                    context.state[key] += step * 100\n                    callback && callback()\n                })}\n            </div>\n        }\n        let renderItem = ({item, itemIndex}) => {\n            const {type, content, config} = item\n            // console.log({type, content})\n            return type == ContentType.Image && showImage ? <div\n                className=\"item-img-container\"\n                key={itemIndex + '_' + type}\n                onClick={() => {\n                    let images = []\n                    context.state.dataSourceRendered.forEach((item) => {\n                        if (item.type == ContentType.Image) {\n                            images.push({url: item.content})\n                            if (item.content == content) {\n                                context.state.previewImageIndex = images.length - 1\n                            }\n                        }\n                    })\n                    context.setState({\n                        previewImages: images,\n                    })\n                }}\n            >\n                {/*<img className=\"item-img\" src={content}/>*/}\n                <img className=\"item-img\"/>\n            </div> : type == ContentType.Text && context.state[ButtonConfigs.text.key] ?\n                <div\n                    key={itemIndex + '_' + type}\n                    style={{marginTop: 15, marginBottom: 20}}\n                >\n                    {content.texts.map(function (text, idx) {\n                        let link = content.links[text]\n                        return link ? <div\n                                key={idx}\n                                className=\"item-text-container\"\n                                onClick={() => {\n                                    context.handleDownload(link, text)\n                                }}\n                            >\n                                <div className=\"item-text\">{text}</div>\n                            </div> :\n                            <div key={idx} className=\"item-summary\">{text}</div>\n                    })}\n                </div> : null\n        }\n        return (\n            <div className=\"mainRoot\">\n                <div className=\"list\">\n                    {context.state.dataSourceRendered.map(function (item, itemIndex) {\n                        return renderItem({item, itemIndex})\n                    })}\n                </div>\n                {downloadsStorage.length > 0 ? <div style={{\n                    position: 'absolute',\n                    top: '15px',\n                    left: '10px',\n                }}>\n                    <Badge count={downloadsStorage.length} showZero>\n                        <Button\n                            shape=\"circle\"\n                            type={'primary'}\n                            icon={'download'}\n                            onClick={() => context.setState({togglePaste: true})}\n                        />\n                    </Badge>\n                </div> : null}\n                {/*<DownloadsInfoManager*/}\n                {/*visible={context.state.togglePaste}*/}\n                {/*onClose={() => {*/}\n                {/*context.setState({*/}\n                {/*togglePaste: false,*/}\n                {/*})*/}\n                {/*}}*/}\n                {/*/>*/}\n                {context.state[ButtonConfigs.scroll.key] ? <div\n                    style={{\n                        absolute: 'position',\n                        // left:'10px',\n                        bottom: '60px',//Config.getScreenHeight() * 2 / 5,\n                        width: '100%',\n                        height: '20%',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                    }}\n                    onClick={() => {\n                        context.state[ButtonConfigs.scroll.key] = false\n                        context.setState({})\n                    }}\n                >\n                    <div\n                        style={{\n                            marginHorizontal: '15px',\n                            borderRadius: '6px',\n                            paddingHorizontal: '8px',\n                            paddingVertical: '5px',\n                            backgroundColor: '#888',\n                        }}\n                    >\n                        {renderStepper('频率', 'autoScrollEnabled', 1, () => {\n                            context.setState({\n                                autoScrollEnabled: context.state.autoScrollEnabled\n                            }, () => {\n                                context.state.autoScrollEnabled > 0 ? context.startAutoScroll() : context.stopAutoScroll()\n                            })\n                        })}\n                        {renderStepper('像素', 'autoScrollPixels', 1, () => {\n                            context.setState({\n                                autoScrollPixels: context.state.autoScrollPixels\n                            })\n                        })}\n                    </div>\n                </div> : null}\n                <GiteeManagerView\n                    ref={ref => context.gitee = ref}\n                    visible={context.state[ButtonConfigs.server.key]}\n                    invisible={() => {\n                        context.state[ButtonConfigs.server.key] = false\n                        context.setState({})\n                    }}\n                />\n                {/*<RenderWKY*/}\n                {/*show={showWKY}*/}\n                {/*open={toggleWKY}*/}\n                {/*onExit={() => {*/}\n                {/*toggleWKY && toggleWKY()*/}\n                {/*}}*/}\n                {/*/>*/}\n                <GiteeManagerHelper\n                    visible={context.state[ButtonConfigs.helper.key]}\n                    invisible={() => {\n                        context.state[ButtonConfigs.helper.key] = false\n                        context.setState({})\n                    }}\n                />\n                {context.state.togglePageSelection ? <div className=\"menu-page\">\n                    <div className=\"menu-page-list\">\n                        {context.state.currentPages.map(function (item, index) {\n                            return item.valid || context.state[ButtonConfigs.visible.key] ? <Button\n                                type={'ghost'}\n                                style={{\n                                    width: '100%',\n                                    paddingVertical: '10px',\n                                    backgroundColor: index == context.state.selectedPage ? '#9e6946' :\n                                        ++line % 2 == 0 ? 'rgba(200,200,200,0.4)' : 'rgba(255,255,255,0.4)',\n                                    paddingLeft: '15px',\n                                    justifyContent: 'center',\n                                }}\n                                key={index}\n                                onClick={() => {\n                                    context.onChangePageIndex(index)\n                                }}\n                            >\n                                <div style={{\n                                    color: index == context.state.selectedPage ? '#ff6515' :\n                                        line % 2 == 0 ? 'rgba(250,250,250,0.8)' : 'rgba(220,220,220,0.8)'\n                                }}>{item.title}</div>\n                            </Button> : null\n                        })}\n                    </div>\n                    <div\n                        style={{\n                            display: 'flex',\n                            flexDirection: 'column',\n                            justifyContent: 'center',\n                            paddingLeft: '10px',\n                            width: '100%',\n                            height: '40px',\n                            backgroundColor: 'rgba(255,255,255,0.3)',\n                        }}\n                    >\n                        <div style={{flexDirection: 'row', display: 'flex'}}>\n                            {Object.values(ButtonConfigs).map(function (config, index) {\n                                let ctx = config.isContext ? context.context : context.state\n                                return <Button\n                                    type={ctx[config.key] ? 'danger' : 'primary'}\n                                    key={'ButtonConfigs' + index}\n                                    style={{\n                                        paddingHorizontal: 5,\n                                        paddingVertical: 5,\n                                        alignItems: 'center',\n                                        justifyContent: 'center',\n                                        marginRight: 10,\n                                    }}\n                                    onClick={() => {\n                                        context.onButton(config.id)\n                                    }}\n                                    icon={ctx[config.key] ? config.iconH : config.iconN}\n                                />\n                            })}\n                        </div>\n                    </div>\n                </div> : null}\n                <Button\n                    className={'menu-btn'}\n                    type={context.state.togglePageSelection ? 'danger' : 'primary'}\n                    shape=\"circle\"\n                    icon={context.state.togglePageSelection ? 'menu-unfold' : 'menu-fold'}\n                    onClick={() => {\n                        context.state[ButtonConfigs.server.key] = false\n                        context.state[ButtonConfigs.scroll.key] = false\n                        context.setState({\n                            togglePageSelection: !context.state.togglePageSelection,\n                        })\n                    }}\n                />\n                {context.state.contentOffset == 0 ? null : <div\n                    style={{\n                        position: 'absolute',\n                        left: 15,\n                        width: 32,\n                        height: 32,\n                        borderRadius: 16,\n                        borderWidth: 2,\n                        borderColor: '#fee',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        backgroundColor: 'rgba(0,0,0,0.6)',\n                    }}\n                    onClick={() => {\n                        context.setState({\n                            contentOffset: 0,\n                        })\n                    }}\n                ><Icon type={'arrowup'} size={23} color={'#fee'}/></div>}\n                {/*{context.state.previewImages.length > 0 ? <ImageViewer*/}\n                {/*style={{*/}\n                {/*position: 'absolute',*/}\n                {/*width: '100%',*/}\n                {/*height: '100%',*/}\n                {/*}}*/}\n                {/*backgroundColor={'rgba(0,0,0,0.5)'}*/}\n                {/*imageUrls={context.state.previewImages}*/}\n                {/*index={context.state.previewImageIndex}*/}\n                {/*onClick={() => {*/}\n                {/*context.state.previewImages = []*/}\n                {/*context.setState({})*/}\n                {/*}}*/}\n                {/*/> : null}*/}\n                <BackTop/>\n            </div>)\n    }\n\n    onButton(id) {\n        let context = this\n        const {\n            toggleImage,\n        } = context.context;\n        let config = ButtonConfigs[id]\n        switch (config.id) {\n            case ButtonConfigs.visible.id: {\n                context.state[config.key] = !context.state[config.key]\n                context.setState({})\n            }\n                break\n            case ButtonConfigs.text.id: {\n                context.state[config.key] = !context.state[config.key]\n                context.setState({}, () => {\n                    LEUtils.saveToLocal(config.key, context.state[config.key])\n                })\n            }\n                break\n            case ButtonConfigs.image.id: {\n                toggleImage && toggleImage()\n            }\n                break\n            case ButtonConfigs.scroll.id: {\n                context.state[config.key] = true\n                context.setState({\n                    togglePageSelection: false,\n                })\n            }\n                break\n            case ButtonConfigs.server.id: {\n                context.state[config.key] = true\n                context.setState({\n                    togglePageSelection: false,\n                }, () => {\n                    context.gitee.getConfigFile((result) => {\n                        // console.log('>>>>>', {result})\n                        let pending = []\n                        let kv = {}\n                        let kv2 = {}\n                        context.state.currentPages.forEach((s, index) => {\n                            kv[s.config] = index\n                        })\n                        context.giteeConfigs.forEach((s, index) => {\n                            kv2[s.config] = index\n                        })\n                        result.forEach((s) => {\n                            let key = kv[s.config]\n                            if (key >= 0) {\n                                context.state.currentPages[key] = s\n                            } else {\n                                pending.push(s)\n                            }\n                        })\n                        result.forEach((s) => {\n                            kv2[s.config] = s\n                        })\n                        context.giteeConfigs = Object.values(kv2)\n                        LEUtils.saveToLocal(GiteeConfigsKey, context.giteeConfigs)\n                        context.setState({\n                            currentPages: context.state.currentPages.concat(pending)\n                        })\n                    })\n                })\n            }\n                break\n            case ButtonConfigs.helper.id: {\n                context.state[config.key] = true\n                context.setState({\n                    togglePageSelection: false,\n                })\n            }\n                break\n            case ButtonConfigs.history.id: {\n                context.state[config.key] = !context.state[config.key]\n                context.setState({\n                    togglePageSelection: false,\n                }, () => {\n                    context.loadNews()\n                })\n            }\n                break\n        }\n    }\n\n    startAutoScroll() {\n        let context = this\n        context.stopAutoScroll()\n        if (context.state.autoScrollEnabled > 0) {\n            context.autoScrollTimer = setInterval(() => {\n                context.autoScroll()\n            }, context.state.autoScrollEnabled)\n        }\n    }\n\n    stopAutoScroll() {\n        let context = this\n        context.autoScrollTimer && clearInterval(context.autoScrollTimer)\n    }\n\n    autoScroll() {\n        let context = this\n        // if (context.listView && context.state.contentOffset < context.contentHeight - Config.ScreenHeight) {\n        //     let offset = context.state.contentOffset + context.state.autoScrollPixels\n        // context.listView.scrollToOffset({offset: offset})\n        // if (context.state.contentOffset < 10) {\n        //     context.setState({\n        //         contentOffset: offset\n        //     })\n        // }\n        // }\n    }\n}\nMoviePageTemplate.contextType = Store;","import './App.css';\nimport \"antd/dist/antd.css\";\nimport './global.less'\nimport \"antd/dist/antd.less\";\nimport React, {Component} from 'react';\nimport MoviePageTemplate from './App/MoviePageTemplate'\n// import Options from './App/Options'\nimport {StoreProvider} from './App/StoreProvider'\n\nexport default class App extends Component {\n    constructor() {\n        super()\n        this.state = {\n            screenWidth: window.innerWidth,\n            screenHeight: window.innerHeight,\n            screenBackgroundColor: '#444',\n            visible: false,\n            testStr: '',\n        }\n    }\n\n    async componentDidMount() {\n        // let context = this\n        // const res = await http.get('http://gaoqing.la/bluray/')\n        // console.log('res', res)\n        // new Tests()\n        // let fetcher = new HDFetcher()\n        // fetcher.fetchDataList()\n        /*\n        get('http://gaoqing.la/bluray/', {\n            type: \"get\",\n            dataType: \"jsonp\",\n            jsonp: \"callback\",\n        }, (res) => {\n            console.log(res)\n        })\n        // $.ajax({\n        //     url: 'http://gaoqing.la/bluray/',\n        //     type: \"GET\",\n        //     // dataType: \"jsonp\",\n        //     dataType: \"xml\",\n        //     headers: {\"Content-Type\": \"text/xml;charset=UTF-8\"},\n        //     data: '{}',\n        //     success: function (data) {\n        //         //var result = JSON.stringify(data); //json对象转成字符串\n        //         // console.log(data)\n        //     },\n        //     complete: function () {\n        //\n        //     }\n        // })\n        /*\n        axios('http://gaoqing.la/bluray/', {\n            method: 'POST',\n            mode: 'AllowAll',\n            headers: {\n                'Access-Control-Allow-Origin': '*',\n                'Content-Type': 'application/json',\n                'user-agent': \"Mozilla/5.0\",\n                \"cache-control\": \"no-cache\"\n            },\n            withCredentials: false,\n            // credentials: 'same-origin',\n            // credentials: \"include\",\n        }).then(response => {\n            console.log('Res', response)\n        }).catch(function (error) {\n            console.error(\"-999\", error)\n        })//*/\n        /*\n        fetch(\n            // 'http://gaoqing.la/bluray/',\n            'https://www.baidu.com/',\n            {\n            method: 'GET',\n            mode: \"no-cors\",\n            credentials: \"include\",\n            // redirect: 'follow',\n            headers: {\n                referer:'https://www.baidu.com',\n                host:'www.baidu.com',\n                'Content-type': 'application/x-www-form-urlencoded; text/html; text/plain',\n                'Access-Control-Allow-Origin': '*',\n            }\n        }).then(function (response) {\n            console.log('Res', response)\n            context.setState({\n                testStr:JSON.stringify(response)\n            })\n            response.text().then(function (data) {\n                console.log(\"Response\", {response, data})\n                context.setState({\n                    testStr:JSON.stringify(data)\n                })\n            })\n        }).catch(function (error) {\n            console.error(\"-999\", error)\n        }); //*/\n    }\n\n    componentWillMount() {\n        let context = this\n        window.addEventListener('resize', context.resize.bind(context));\n    }\n\n    componentWillUnmount() {\n        let context = this\n        window.removeEventListener('resize', context.resize.bind(context));\n    }\n\n    resize() {\n        let context = this\n        context.setState({\n            screenWidth: window.innerWidth,\n            screenHeight: window.innerHeight,\n        })\n    }\n\n    render() {\n        let context = this\n        return (\n            <StoreProvider>\n                <div\n                    style={{\n                        position: 'relative',\n                        width: context.state.screenWidth,\n                        height: context.state.screenHeight,\n                        backgroundColor: context.state.screenBackgroundColor,\n                    }}\n                >\n                    <MoviePageTemplate/>\n                    {/*<Options*/}\n                        {/*visible={context.state.visible}*/}\n                        {/*optionsHandler={({screen}) => {*/}\n                            {/*if (screen) {*/}\n                                {/*context.setState({*/}\n                                    {/*screenWidth: screen.width,*/}\n                                    {/*screenHeight: screen.height,*/}\n                                    {/*screenBackgroundColor: screen.backgroundColor,*/}\n                                {/*})*/}\n                            {/*}*/}\n                        {/*}}*/}\n                    {/*/>*/}\n                </div>\n            </StoreProvider>\n        );\n    }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                        'worker. To learn more, visit https://bit.ly/CRA-PWA'\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            );\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister();\n        });\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","/**\n * Created by LarryEmerson\n * User: larryemerson@163.com\n * Date: 2019/11/11\n * Time: 6:46 PM\n */\n\nimport moment from \"moment\";\nimport Cheerio from 'cheerio'\nimport LERequest from './LERequest'\n\nconst ConsoleSwitch = false\n\nexport function evalTemplate(template, context) {\n    let execution = null;\n    ConsoleSwitch && console.log('~~~~~~~~~~~>Begin with template:', template)\n    let user = {}\n\n    try {\n        let bindContext = (function () {\n            return eval(template);\n        }).bind({\n            user: user,\n            context: context,\n            moment: moment,\n            assign: assign,\n            convertResponse: convertResponse,\n            request: appRequest,// new LERequest(global.host, Config.headers()),\n            Cheerio: Cheerio,\n        });\n        execution = bindContext();\n        bindContext = undefined;\n    } catch (ex) {\n        ConsoleSwitch && console.log('~~~~~~~~~~~>Eval exception:' + ex)\n    }\n    if (typeof execution != \"function\") {\n        execution = () => template;\n    }\n    ConsoleSwitch && console.log('~~~~~~~~~~~>Eval return(function):', execution)\n    return execution;\n}\n\nexport function appRequest(url, headers = undefined, type, success, error,\n                           requestType = 'get',\n                           requestData = {},\n                           dataType,\n                           timeout) {\n    new LERequest('', headers, type).api(url).success(function (status, response) {\n        success && success(status, response);\n    }).error(function (e) {\n        error && error(e);\n    }).run({\n        type: requestType,\n        data: requestData, dataType, timeout\n    })\n}\n\n//\nexport function explainValueTemplate(template) {\n    if (typeof template === \"string\") {\n        let matches = template.match(/%\\{.*?\\}/ig);\n        if (!!matches) {\n            return matches.map(e => {\n                return {\n                    raw: e,\n                    valueId: e.replace(\"%{\", \"\").replace(\"}\", \"\")\n                };\n            })\n        }\n    }\n    return [];\n}\n\nexport function replaceWithExplainedValue(explainedValue, raw, data) {\n    let value = raw;\n    if (explainedValue.length > 0) {\n        explainedValue.forEach(p => {\n            value = value.replace(p.raw, data[p.valueId] || \"\");\n        });\n    }\n    return value;\n}\n\nexport function convertResponse(response) {\n    let contentType = response.headers.get(\"Content-Type\").replace(/;.*charset=.*/ig, \"\");\n    switch (contentType) {\n        case \"text/html\":\n        case \"text/plain\":\n            return response.text();\n        case \"application/json\":\n            return response.json();\n        default:\n            return response.blob();\n    }\n}\n\n//\n\nexport function format(val) {\n    return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\n\nexport function parse(val) {\n    return val.toString().replace(/\\$\\s?|(,*)/g, '');\n}\n\nexport function assign(p) {\n    let c;\n    if ((typeof p === 'object' && p !== null)) {\n        if ((Array.isArray(p)))\n            c = [];\n        else\n            c = {};\n        for (var i in p) {\n            if (typeof p[i] === 'object' && !i.indexOf(\"_\") !== 0) {\n                c[i] = this.assign(p[i]);\n            } else {\n                c[i] = p[i];\n            }\n        }\n    } else {\n        c = p;\n    }\n    return c;\n}\n\nexport function empty(o) {\n    if (o === undefined || o === \"\" || o === null)\n        return true;\n    return false;\n}\n\nexport function getStringLen(str) {\n    if (str === null || str === undefined) return 0;\n    if (typeof str != \"string\") {\n        str += \"\";\n    }\n    return str.replace(/[^\\x00-\\xff]/g, \"01\").length;\n}","/**\n * Created by LarryEmerson\n * User: larryemerson@163.com\n * Date: 2019/3/12\n * Time: 4:54 PM\n */\nimport notification from 'antd/lib/notification'\nimport Utils from './LEUtils'\n\nconst ConsoleON = true\nexport const LEResponseStatus = {\n    Idle: '',\n    Timeout: '408',\n    Success: '1',\n    Failure: '0',\n}\nexport default class LERequest {\n    constructor(apiHost, defaultHeaders) {\n        let context = this\n        context.uuid = Utils.uuid(16)\n        context.onSuccess = undefined\n        context.onError = undefined\n        context.apiHost = undefined\n        context.method = undefined\n        context.endPoint = undefined\n        context.data = undefined\n        context.dataType = undefined\n        context.defaultHeaders = undefined\n        context.enableToast = true\n        context.methodMap = {\n            0: \"HEAD\",\n            1: \"GET\",\n            2: \"DELETE\",\n            3: \"POST\",\n            4: \"PUT\",\n            5: \"PATCH\"\n        }\n        context.apiHost = apiHost\n        context.defaultHeaders = defaultHeaders || {}\n        context.timeout = 3000\n        context.responseStatus = LEResponseStatus.Idle\n    }\n\n    api(endPoint, toast) {\n        let context = this\n        context.endPoint = endPoint\n        context.enableToast = toast || context.enableToast\n        return context\n    }\n\n    success(func) {\n        let context = this\n        context.onSuccess = func\n        return context\n    }\n\n    error(func) {\n        let context = this\n        context.onError = func\n        return context\n    }\n\n    head(timeout) {\n        let context = this\n        context.method = 0\n        context.timeout = timeout || context.timeout\n        context.exec()\n        return context\n    }\n\n    get(timeout) {\n        let context = this\n        context.method = 1\n        context.timeout = timeout || context.timeout\n        context.exec()\n        return context\n    }\n\n    delete(timeout) {\n        let context = this\n        context.method = 2\n        context.timeout = timeout || context.timeout\n        context.exec()\n        return context\n    }\n\n    post(data, dataType, timeout) {\n        let context = this\n        context.method = 3\n        context.timeout = timeout || context.timeout\n        context.data = data || {}\n        context.dataType = dataType || LERequest.dataTypeMap.urlForm\n        context.exec()\n        return context\n    }\n\n    put(data, dataType, timeout) {\n        let context = this\n        context.method = 4\n        context.timeout = timeout || context.timeout\n        context.data = data || {}\n        context.dataType = dataType || LERequest.dataTypeMap.urlForm\n        context.exec()\n        return context\n    }\n\n    patch(data, dataType, timeout) {\n        let context = this\n        context.method = 5\n        context.timeout = timeout || context.timeout\n        context.data = data || {}\n        context.dataType = dataType || LERequest.dataTypeMap.urlForm\n        context.exec()\n        return context\n    }\n\n    run({type, data, dataType, timeout}) {\n        let context = this\n        switch (type) {\n            case 'get':\n                return context.get(timeout, dataType)\n            case 'head':\n                return context.head(timeout)\n            case 'delete':\n                return context.delete(timeout)\n            case 'post':\n                return context.post(data, dataType, timeout)\n            case 'put':\n                return context.put(data, dataType, timeout)\n            case 'patch':\n                return context.patch(data, dataType, timeout)\n        }\n    }\n\n    cancelRequest() {\n        let context = this\n        if (context.responseStatus == LEResponseStatus.Idle) {\n            context.requestPromise && context.requestPromise.abort && context.requestPromise.abort()\n        }\n        return context\n    }\n\n    warp_fetch(fetch_promise) {\n        let context = this\n        let timeout_fn = null;\n        let abort = null;\n        //创建一个超时promise\n        let timeout_promise = new Promise(function (resolve, reject) {\n            timeout_fn = function () {\n                if (context.responseStatus == LEResponseStatus.Idle) {\n                    context.responseStatus = LEResponseStatus.Timeout\n                    let timeOutError = {\n                        statusCode: LEResponseStatus.Timeout,\n                        msg: '请求超时',\n                        url: context.apiHost + context.endPoint,\n                        timeout: context.timeout,\n                        uuid: context.uuid,\n                    }\n                    reject(timeOutError);\n                    if (context.onError) {\n                        context.onError(timeOutError)\n                    } else if (context.enableToast) {\n                        notification.error({\n                            message: '请求超时'\n                        })\n                    }\n                    ConsoleON && console.log('请求超时:', {\n                        timeOutError,\n                        url: context.apiHost + context.endPoint\n                    })\n                }\n            };\n        });\n        //创建一个终止promise\n        let abort_promise = new Promise(function (resolve, reject) {\n            abort = function () {\n                if (context.responseStatus == LEResponseStatus.Idle) {\n                    context.responseStatus = LEResponseStatus.Abort\n                    reject({\n                        statusCode: -1,\n                        msg: '请求取消',\n                        url: context.apiHost + context.endPoint,\n                        timeout: context.timeout,\n                        uuid: context.uuid,\n                    })\n                }\n            };\n        });\n        //竞赛\n        let abortable_promise = Promise.race([\n            fetch_promise,\n            timeout_promise,\n            abort_promise,\n        ]);\n        //计时\n        setTimeout(timeout_fn, context.timeout);\n        //终止\n        abortable_promise.abort = abort;\n        return abortable_promise;\n    }\n\n    execFetch() {\n        let context = this\n        let headers = new Headers(context.defaultHeaders)\n        let request = {\n            method: this.methodMap[context.method],\n            // mode: \"cors\",\n            // credentials: \"include\",\n        }\n        if (context.method > 2) {\n            if (!headers.get(\"Content-Type\")) {\n                ConsoleON && console.log('head', headers.get(\"Content-Type\"))\n                headers.append(\"Content-Type\", context.dataType)\n            }\n            if (context.dataType == LERequest.dataTypeMap.urlForm && context.data instanceof Object) {\n                context.data = context.urlParam(context.data)\n            } else if (context.dataType == LERequest.dataTypeMap.json && context.data instanceof Object) {\n                context.data = JSON.stringify(context.data)\n            }\n            request[\"body\"] = context.data\n        }\n        request[\"headers\"] = headers\n\n        let api = context.apiHost + context.endPoint\n        ConsoleON && console.log('api', api, request)\n        context.requestPromise = context.warp_fetch(new Promise((resolve, reject) => {\n            fetch(api, request).then(function (response) {\n                resolve(response)\n            }).catch(function (error) {\n                reject(error)\n            })\n        })).then(function (response) {\n            if (response.status >= 200 && response.status <= 300) {\n                if (context.responseStatus == LEResponseStatus.Idle) {\n                    context.responseStatus = LEResponseStatus.Success\n                    context.onSuccess(response.status, response, context.uuid)\n                }\n            } else {\n                response.json().then(function (json) {\n                    let msg = json && json.errormsg && json.errormsg.length > 0 ? json.errormsg : undefined\n                    if (msg) {\n                        if (context.responseStatus == LEResponseStatus.Idle) {\n                            context.responseStatus = LEResponseStatus.Failure\n                            if (context.onError) {\n                                context.onError(msg)\n                            } else if (context.enableToast) {\n                                notification.error({\n                                    message: msg\n                                })\n                            }\n                        }\n                        ConsoleON && console.log('ErrorMsg from server:', {\n                            msg,\n                            status: response.status,\n                            url: context.apiHost + context.endPoint\n                        })\n                    }\n                }).catch(function (error) {\n                    let msg = \"请求失败\"\n                    if (context.responseStatus == LEResponseStatus.Idle) {\n                        context.responseStatus = LEResponseStatus.Failure\n                        if (context.onError) {\n                            context.onError(msg)\n                        } else if (context.enableToast) {\n                            notification.error({\n                                message: msg\n                            })\n                        }\n                    }\n                    ConsoleON && console.log('Unknown Error:', {\n                        error,\n                        msg,\n                        status: response.status,\n                        url: context.apiHost + context.endPoint\n                    })\n                })\n            }\n        }).catch(function (error) {\n            if (context.responseStatus == LEResponseStatus.Idle) {\n                context.responseStatus = LEResponseStatus.Failure\n                if (context.onError) {\n                    context.onError(error, context.uuid)\n                    ConsoleON && console.log('status:', error, context.apiHost, context.endPoint)\n                } else if (context.enableToast) {\n                    notification.error({\n                        message: \"请求失败\"\n                    })\n                    ConsoleON && console.log('status:', '请求失败', context.apiHost, context.endPoint)\n                }\n            }\n        })\n    }\n\n    exec() {\n        this.execFetch()\n    }\n\n    urlParam(params) {\n        return Object\n            .keys(params)\n            .map((key) => {\n                return encodeURIComponent(key) + '=' + encodeURIComponent(params[key])\n            })\n            .join('&')\n    }\n}\nLERequest.dataTypeMap = {\n    urlForm: 'application/x-www-form-urlencoded;charset=UTF-8',\n    multipartForm: \"multipart/form-data\",\n    json: \"application/json;charset=UTF-8\",\n}"],"sourceRoot":""}